pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
              echo 'Building..'
            }
        }
        stage('Test') {
            steps {
                echo 'Testing..'
              //  exampleModule.greetMsg() 
            }
        }
    //     stage('Check for existence of regressiontestresults.json') {
    //          steps {
    //              echo 'Deploying....'
    //          }
    //          steps {
    //     script {
    //         if (fileExists('regressiontestresults.json')) {
    //             echo "File regressiontestresults.json found!"
    //         }
    //     }
    // }   
    //      }

    }
}
//node {
   // def rootDir = PATH
  //  def exampleModule = load "./pipeline.groovy"
    //exampleModule.greetMsg()
//}
//node {
   // def rootDir = PATH
 //   def exampleModule = load "./TestScript.groovy"
//}
node {
// def files = findFiles(glob: '**/*.json') echo """${files[0].name} ${files[0].path} ${files[0].directory} ${files[0].length} ${files[0].lastModified}"""
def projects = readJSON file: "${env.WORKSPACE}\\updatedregressiontestresults.json"
//  def regressionJsonLoading = load "./updatedregressiontestresults.json"
//    def exampleModule = load "./RegressionsTestResultScript.groovy"
  //  exampleModule.convert()
   }
