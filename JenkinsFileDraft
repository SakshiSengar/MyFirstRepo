pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
              echo 'Building..'
            }
        }
        stage('Test') {
            steps {
                echo 'Testing..'
              //  exampleModule.greetMsg() 
            }
        }
         stage('Printing') {
            steps {
            //  def projectsregression = readJSON file: "${env.WORKSPACE}\\regressiontestresults.json" // giving compilation error
              echo 'regressiontestresults.json read success..'
            }
        }
    //     stage('Check for existence of regressiontestresults.json') {
    //          steps {
    //              echo 'Deploying....'
    //          }
    //          steps {
    //     script {
    //         if (fileExists('regressiontestresults.json')) {
    //             echo "File regressiontestresults.json found!"
    //         }
    //     }
    // }   
    //      }

    }
}
//node {
   // def rootDir = PATH
//   def exampleModule = load "./pipeline.groovy"
//    exampleModule.greetMsg()
//}
//node {   once report is converted to html, this node block to write html file into jenkins workspace shall be used
//    writeFile file: 'groovy1.txt', text: 'Working with files the Groovy way is easy.'
//    sh 'ls -l groovy1.txt'
//    sh 'cat groovy1.txt'
//}
//node {
   // def rootDir = PATH
 //   def exampleModule = load "./TestScript.groovy"
//}
node {
// def files = findFiles(glob: '**/*.json') echo """${files[0].name} ${files[0].path} ${files[0].directory} ${files[0].length} ${files[0].lastModified}"""
//def projects = readJSON file: "${env.WORKSPACE}\\updatedregressiontestresults.json"
//  def regressionJsonLoading = load "./updatedregressiontestresults.json"
   def exampleModule = load "./RegressionsTestResultScript.groovy"
  //  exampleModule.convert()
  }
