pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
              echo 'Building..'
            }
        }
        stage('Test') {
            steps {
                echo 'Testing..'
              //  exampleModule.greetMsg() 
            }
        }
        // stage('Deploy') {
        //     steps {
        //         echo 'Deploying....'
        //     }
        // }
        stage ('Check for existence of index.html') {
    agent any # Could be a top-level directive or a stage level directive
    steps {
        script {
            if (fileExists('regressiontestresults.json')) {
                echo "File regressiontestresults.json found!"
            }
        }
    }
}

    }
}
//node {
   // def rootDir = PATH
  //  def exampleModule = load "./pipeline.groovy"
    //exampleModule.greetMsg()
//}
//node {
   // def rootDir = PATH
 //   def exampleModule = load "./TestScript.groovy"
//}
node {
    def exampleModule = load "./RegressionsTestResultScript.groovy"
    def regressionJsonLoading = load "./regressiontestresults.json"
  //  exampleModule.convert()
   }
